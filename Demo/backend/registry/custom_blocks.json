[
  {
    "id": "extract_price",
    "name": "Extract AirPods Price",
    "description": "Extract the price of AirPods from the search results.",
    "category": "process",
    "execution_type": "llm",
    "input_schema": {
      "type": "object",
      "properties": {
        "results": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "title": {
                "type": "string"
              },
              "snippet": {
                "type": "string"
              },
              "link": {
                "type": "string"
              }
            }
          }
        }
      },
      "required": [
        "results"
      ]
    },
    "output_schema": {
      "type": "object",
      "properties": {
        "price": {
          "type": "number"
        },
        "link": {
          "type": "string"
        }
      }
    },
    "prompt_template": "From the following search results, identify the price of AirPods and provide the link to the page where this price is listed. Search results: {results}. Return the price as a number and the corresponding link.",
    "metadata": {
      "created_by": "thinker",
      "tier": 2
    }
  },
  {
    "id": "generate_budget",
    "name": "Generate Budget",
    "description": "Generate a budget that is within 5% above or below the given price.",
    "category": "process",
    "execution_type": "python",
    "input_schema": {
      "type": "object",
      "properties": {
        "price": {
          "type": "number"
        }
      },
      "required": [
        "price"
      ]
    },
    "output_schema": {
      "type": "object",
      "properties": {
        "min_budget": {
          "type": "number"
        },
        "max_budget": {
          "type": "number"
        }
      }
    },
    "metadata": {
      "created_by": "thinker",
      "tier": 2
    },
    "execution": {
      "runtime": "python",
      "entrypoint": "blocks/custom/generate_budget/main.py"
    }
  },
  {
    "id": "compare_price_to_budget",
    "name": "Compare Price to Budget",
    "description": "Compare the extracted AirPods price to the generated budget and determine if it fits within the budget.",
    "category": "process",
    "execution_type": "python",
    "input_schema": {
      "type": "object",
      "properties": {
        "price": {
          "type": "number"
        },
        "min_budget": {
          "type": "number"
        },
        "max_budget": {
          "type": "number"
        }
      },
      "required": [
        "price",
        "min_budget",
        "max_budget"
      ]
    },
    "output_schema": {
      "type": "object",
      "properties": {
        "fits_within_budget": {
          "type": "boolean"
        }
      }
    },
    "metadata": {
      "created_by": "thinker",
      "tier": 2
    },
    "execution": {
      "runtime": "python",
      "entrypoint": "blocks/custom/compare_price_to_budget/main.py"
    }
  },
  {
    "id": "extract_common_stories",
    "name": "Extract Common Stories",
    "description": "Extracts common stories from search results and scores them based on the number of outlets covering each story.",
    "category": "process",
    "execution_type": "python",
    "input_schema": {
      "type": "object",
      "properties": {
        "results": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "title": {
                "type": "string",
                "description": "The title of the news article."
              },
              "url": {
                "type": "string",
                "description": "The URL of the news article."
              },
              "snippet": {
                "type": "string",
                "description": "A snippet or summary of the news article."
              }
            }
          }
        }
      },
      "required": [
        "results"
      ]
    },
    "output_schema": {
      "type": "object",
      "properties": {
        "stories": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "headline": {
                "type": "string",
                "description": "The headline of the common story."
              },
              "score": {
                "type": "integer",
                "description": "The score representing how many outlets covered the story."
              },
              "link": {
                "type": "string",
                "description": "A representative URL for the common story."
              }
            }
          }
        }
      },
      "required": [
        "stories"
      ]
    },
    "use_when": "Use this block when you need to identify and score common news stories from a list of search results.",
    "tags": [
      "news",
      "aggregation",
      "stories",
      "scoring"
    ],
    "examples": [
      {
        "inputs": {
          "results": [
            {
              "title": "Breaking News: Market Crash",
              "url": "http://news1.com/article1",
              "snippet": "The market has crashed..."
            },
            {
              "title": "Market Crash: Breaking News",
              "url": "http://news2.com/article2",
              "snippet": "In a surprising turn..."
            },
            {
              "title": "Sports Update: Local Team Wins",
              "url": "http://news3.com/article3",
              "snippet": "The local team has won..."
            }
          ]
        },
        "outputs": {
          "stories": [
            {
              "headline": "breaking news market crash",
              "score": 2,
              "link": "http://news1.com/article1"
            },
            {
              "headline": "sports update local team wins",
              "score": 1,
              "link": "http://news3.com/article3"
            }
          ]
        }
      }
    ],
    "metadata": {
      "created_by": "thinker",
      "tier": 2
    },
    "execution": {
      "runtime": "python",
      "entrypoint": "blocks/custom/extract_common_stories/main.py"
    }
  },
  {
    "id": "rank_stories",
    "name": "Rank Stories by Coverage Score",
    "description": "Ranks a list of news stories based on their coverage score and outputs them as a numbered list.",
    "category": "process",
    "execution_type": "python",
    "input_schema": {
      "type": "object",
      "properties": {
        "stories": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "headline": {
                "type": "string",
                "description": "The headline of the news story."
              },
              "score": {
                "type": "integer",
                "description": "The coverage score of the news story."
              },
              "link": {
                "type": "string",
                "description": "The URL link to the full news story."
              }
            }
          }
        }
      },
      "required": [
        "stories"
      ]
    },
    "output_schema": {
      "type": "object",
      "properties": {
        "ranked_stories": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "rank": {
                "type": "integer",
                "description": "The rank of the story based on its score."
              },
              "headline": {
                "type": "string",
                "description": "The headline of the news story."
              },
              "score": {
                "type": "integer",
                "description": "The coverage score of the news story."
              },
              "link": {
                "type": "string",
                "description": "The URL link to the full news story."
              }
            }
          }
        }
      },
      "required": [
        "ranked_stories"
      ]
    },
    "use_when": "Use this block when you need to rank a list of news stories based on their coverage scores.",
    "tags": [
      "ranking",
      "news",
      "stories",
      "coverage",
      "score"
    ],
    "examples": [
      {
        "inputs": {
          "stories": [
            {
              "headline": "Story A",
              "score": 85,
              "link": "http://example.com/a"
            },
            {
              "headline": "Story B",
              "score": 90,
              "link": "http://example.com/b"
            },
            {
              "headline": "Story C",
              "score": 75,
              "link": "http://example.com/c"
            }
          ]
        },
        "outputs": {
          "ranked_stories": [
            {
              "rank": 1,
              "headline": "Story B",
              "score": 90,
              "link": "http://example.com/b"
            },
            {
              "rank": 2,
              "headline": "Story A",
              "score": 85,
              "link": "http://example.com/a"
            },
            {
              "rank": 3,
              "headline": "Story C",
              "score": 75,
              "link": "http://example.com/c"
            }
          ]
        }
      }
    ],
    "metadata": {
      "created_by": "thinker",
      "tier": 2
    },
    "execution": {
      "runtime": "python",
      "entrypoint": "blocks/custom/rank_stories/main.py"
    }
  },
  {
    "id": "score_stories_by_views",
    "name": "Score Stories by Views",
    "description": "Scores stories based on their view counts, assigning a higher score to stories with more views.",
    "category": "process",
    "execution_type": "python",
    "input_schema": {
      "type": "object",
      "properties": {
        "stories": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "headline": {
                "type": "string",
                "description": "The headline of the news story."
              },
              "view_count": {
                "type": "integer",
                "description": "The view count of the news story."
              },
              "link": {
                "type": "string",
                "description": "The URL link to the full news story."
              }
            }
          }
        }
      },
      "required": [
        "stories"
      ]
    },
    "output_schema": {
      "type": "object",
      "properties": {
        "scored_stories": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "headline": {
                "type": "string",
                "description": "The headline of the news story."
              },
              "score": {
                "type": "integer",
                "description": "The score based on view count."
              },
              "link": {
                "type": "string",
                "description": "The URL link to the full news story."
              }
            }
          }
        }
      },
      "required": [
        "scored_stories"
      ]
    },
    "use_when": "Use this block when you need to rank or prioritize news stories based on their popularity as indicated by view counts.",
    "tags": [
      "scoring",
      "views",
      "news",
      "ranking"
    ],
    "examples": [
      {
        "inputs": {
          "stories": [
            {
              "headline": "Story A",
              "view_count": 150,
              "link": "http://example.com/a"
            },
            {
              "headline": "Story B",
              "view_count": 300,
              "link": "http://example.com/b"
            },
            {
              "headline": "Story C",
              "view_count": 450,
              "link": "http://example.com/c"
            }
          ]
        },
        "outputs": {
          "scored_stories": [
            {
              "headline": "Story A",
              "score": 33,
              "link": "http://example.com/a"
            },
            {
              "headline": "Story B",
              "score": 67,
              "link": "http://example.com/b"
            },
            {
              "headline": "Story C",
              "score": 100,
              "link": "http://example.com/c"
            }
          ]
        }
      }
    ],
    "metadata": {
      "created_by": "thinker",
      "tier": 2
    },
    "execution": {
      "runtime": "python",
      "entrypoint": "blocks/custom/score_stories_by_views/main.py"
    }
  },
  {
    "id": "fetch_bitcoin_price",
    "name": "Fetch Bitcoin Price",
    "description": "Fetches the current Bitcoin price from a specified cryptocurrency API.",
    "category": "process",
    "execution_type": "llm",
    "input_schema": {
      "type": "object",
      "properties": {
        "api_url": {
          "type": "string",
          "description": "The URL of the cryptocurrency API endpoint to fetch Bitcoin price."
        }
      },
      "required": [
        "api_url"
      ]
    },
    "output_schema": {
      "type": "object",
      "properties": {
        "price": {
          "type": "number",
          "description": "The current price of Bitcoin."
        },
        "currency": {
          "type": "string",
          "description": "The currency in which the price is denominated."
        }
      },
      "required": [
        "price",
        "currency"
      ]
    },
    "prompt_template": "Fetch the current Bitcoin price from the API at {api_url} and return the price and currency.",
    "use_when": "Use this block when you need to retrieve the current price of Bitcoin from a specified API endpoint.",
    "tags": [
      "cryptocurrency",
      "Bitcoin",
      "price",
      "API"
    ],
    "examples": [
      {
        "inputs": {
          "api_url": "https://api.example.com/bitcoin/price"
        },
        "outputs": {
          "price": 45000.75,
          "currency": "USD"
        }
      }
    ],
    "metadata": {
      "created_by": "thinker",
      "tier": 2
    }
  },
  {
    "id": "test_new_block",
    "name": "Test New Block",
    "description": "A test block",
    "category": "process",
    "execution_type": "llm",
    "input_schema": {
      "type": "object",
      "properties": {
        "x": {
          "type": "string"
        }
      }
    },
    "output_schema": {
      "type": "object",
      "properties": {
        "y": {
          "type": "string"
        }
      }
    },
    "prompt_template": "Process {x}",
    "metadata": {
      "created_by": "thinker",
      "tier": 2
    },
    "use_when": null,
    "tags": [],
    "examples": []
  }
]