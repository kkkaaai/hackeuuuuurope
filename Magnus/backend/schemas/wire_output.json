{
  "$defs": {
    "PipelineEdge": {
      "description": "A directed edge in the pipeline DAG.",
      "properties": {
        "from": {
          "description": "Source node ID",
          "title": "From",
          "type": "string"
        },
        "to": {
          "description": "Target node ID",
          "title": "To",
          "type": "string"
        }
      },
      "required": [
        "from",
        "to"
      ],
      "title": "PipelineEdge",
      "type": "object"
    },
    "PipelineJSON": {
      "description": "The complete Pipeline JSON \u2014 output of the Thinker, input to the Doer.",
      "properties": {
        "id": {
          "description": "Pipeline ID, e.g. 'pipeline_hn_summary'",
          "title": "Id",
          "type": "string"
        },
        "name": {
          "description": "Human-readable pipeline name",
          "title": "Name",
          "type": "string"
        },
        "user_prompt": {
          "description": "The original user request",
          "title": "User Prompt",
          "type": "string"
        },
        "nodes": {
          "description": "Ordered list of pipeline nodes",
          "items": {
            "$ref": "#/$defs/PipelineNode"
          },
          "minItems": 1,
          "title": "Nodes",
          "type": "array"
        },
        "edges": {
          "description": "DAG edges defining execution dependencies",
          "items": {
            "$ref": "#/$defs/PipelineEdge"
          },
          "title": "Edges",
          "type": "array"
        },
        "memory_keys": {
          "description": "Memory keys this pipeline reads/writes",
          "items": {
            "type": "string"
          },
          "title": "Memory Keys",
          "type": "array"
        }
      },
      "required": [
        "id",
        "name",
        "user_prompt",
        "nodes"
      ],
      "title": "PipelineJSON",
      "type": "object"
    },
    "PipelineNode": {
      "description": "A single node in the pipeline DAG.",
      "properties": {
        "id": {
          "description": "Sequential ID: n1, n2, n3...",
          "title": "Id",
          "type": "string"
        },
        "block_id": {
          "description": "Which block this node executes",
          "title": "Block Id",
          "type": "string"
        },
        "inputs": {
          "additionalProperties": true,
          "description": "Input values \u2014 literal values or {{n1.field}} template references",
          "title": "Inputs",
          "type": "object"
        }
      },
      "required": [
        "id",
        "block_id",
        "inputs"
      ],
      "title": "PipelineNode",
      "type": "object"
    }
  },
  "description": "Output of the wire stage \u2014 the complete pipeline.",
  "properties": {
    "pipeline_json": {
      "$ref": "#/$defs/PipelineJSON"
    }
  },
  "required": [
    "pipeline_json"
  ],
  "title": "WireOutput",
  "type": "object"
}