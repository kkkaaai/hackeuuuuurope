[
  {
    "id": "web_search",
    "name": "Web Search",
    "description": "Search the web using Google/Serper API and return top results",
    "category": "perceive",
    "organ": "web",
    "input_schema": {
      "type": "object",
      "properties": {
        "query": { "type": "string", "description": "Search query" },
        "num_results": { "type": "integer", "default": 5 }
      },
      "required": ["query"]
    },
    "output_schema": {
      "type": "object",
      "properties": {
        "results": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "title": { "type": "string" },
              "url": { "type": "string" },
              "snippet": { "type": "string" }
            }
          }
        }
      }
    },
    "api_type": "real",
    "tier": 1,
    "examples": [
      { "input": { "query": "best protein powder 2025", "num_results": 3 }, "output": { "results": [{ "title": "Top 10 Protein Powders", "url": "https://example.com/protein", "snippet": "Our top picks for 2025..." }] } }
    ]
  },
  {
    "id": "web_scrape",
    "name": "Web Scrape",
    "description": "Extract text content from a given URL using HTTP request and HTML parsing",
    "category": "perceive",
    "organ": "web",
    "input_schema": {
      "type": "object",
      "properties": {
        "url": { "type": "string", "description": "URL to scrape" },
        "selector": { "type": "string", "description": "Optional CSS selector to extract specific element" }
      },
      "required": ["url"]
    },
    "output_schema": {
      "type": "object",
      "properties": {
        "text": { "type": "string", "description": "Extracted text content" },
        "title": { "type": "string" },
        "url": { "type": "string" }
      }
    },
    "api_type": "real",
    "tier": 1,
    "examples": [
      { "input": { "url": "https://example.com/product" }, "output": { "text": "Product description...", "title": "Product Page", "url": "https://example.com/product" } }
    ]
  },
  {
    "id": "web_scrape_structured",
    "name": "Structured Web Scrape",
    "description": "Extract specific structured fields (price, title, etc.) from a webpage",
    "category": "perceive",
    "organ": "web",
    "input_schema": {
      "type": "object",
      "properties": {
        "url": { "type": "string" },
        "fields": {
          "type": "object",
          "description": "Map of field_name -> CSS selector",
          "additionalProperties": { "type": "string" }
        }
      },
      "required": ["url", "fields"]
    },
    "output_schema": {
      "type": "object",
      "properties": {
        "data": { "type": "object", "description": "Extracted field values" }
      }
    },
    "api_type": "real",
    "tier": 1,
    "examples": [
      { "input": { "url": "https://example.com/product", "fields": { "price": ".price", "title": "h1" } }, "output": { "data": { "price": "€399.99", "title": "PlayStation 5" } } }
    ]
  },
  {
    "id": "gemini_analyze_image",
    "name": "Analyze Image (Gemini)",
    "description": "Use Gemini Vision to understand and describe the contents of an image",
    "category": "perceive",
    "organ": "gemini",
    "input_schema": {
      "type": "object",
      "properties": {
        "image_path": { "type": "string", "description": "Path or URL to the image" },
        "prompt": { "type": "string", "description": "What to analyze about the image", "default": "Describe this image in detail" }
      },
      "required": ["image_path"]
    },
    "output_schema": {
      "type": "object",
      "properties": {
        "description": { "type": "string" },
        "objects": { "type": "array", "items": { "type": "string" } },
        "text_found": { "type": "string" }
      }
    },
    "api_type": "real",
    "tier": 1,
    "examples": [
      { "input": { "image_path": "/uploads/photo.jpg", "prompt": "What product is this?" }, "output": { "description": "A container of whey protein powder", "objects": ["protein powder", "container", "label"], "text_found": "Gold Standard Whey" } }
    ]
  },
  {
    "id": "gemini_ocr",
    "name": "OCR Extract Text (Gemini)",
    "description": "Extract all text from an image using Gemini Vision OCR capabilities",
    "category": "perceive",
    "organ": "gemini",
    "input_schema": {
      "type": "object",
      "properties": {
        "image_path": { "type": "string", "description": "Path or URL to the image" }
      },
      "required": ["image_path"]
    },
    "output_schema": {
      "type": "object",
      "properties": {
        "text": { "type": "string", "description": "All extracted text" },
        "confidence": { "type": "number" }
      }
    },
    "api_type": "real",
    "tier": 1,
    "examples": [
      { "input": { "image_path": "/uploads/document.png" }, "output": { "text": "Invoice #1234\nDate: March 15, 2025\nTotal: €45.99", "confidence": 0.95 } }
    ]
  },
  {
    "id": "gemini_read_receipt",
    "name": "Read Receipt (Gemini)",
    "description": "Extract structured line items from a receipt photo using Gemini Vision",
    "category": "perceive",
    "organ": "gemini",
    "input_schema": {
      "type": "object",
      "properties": {
        "image_path": { "type": "string", "description": "Path to receipt image" }
      },
      "required": ["image_path"]
    },
    "output_schema": {
      "type": "object",
      "properties": {
        "store": { "type": "string" },
        "date": { "type": "string" },
        "items": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": { "type": "string" },
              "quantity": { "type": "integer" },
              "price": { "type": "number" }
            }
          }
        },
        "total": { "type": "number" },
        "currency": { "type": "string" }
      }
    },
    "api_type": "real",
    "tier": 1,
    "examples": [
      { "input": { "image_path": "/uploads/receipt.jpg" }, "output": { "store": "Tesco", "date": "2025-03-15", "items": [{ "name": "Milk", "quantity": 2, "price": 1.50 }], "total": 3.00, "currency": "EUR" } }
    ]
  },
  {
    "id": "social_hackernews_top",
    "name": "Hacker News Top Stories",
    "description": "Fetch the top stories from Hacker News API with titles, URLs, and scores",
    "category": "perceive",
    "organ": "web",
    "input_schema": {
      "type": "object",
      "properties": {
        "count": { "type": "integer", "default": 10, "description": "Number of top stories to fetch" }
      }
    },
    "output_schema": {
      "type": "object",
      "properties": {
        "stories": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "title": { "type": "string" },
              "url": { "type": "string" },
              "score": { "type": "integer" },
              "author": { "type": "string" },
              "comments": { "type": "integer" }
            }
          }
        }
      }
    },
    "api_type": "real",
    "tier": 1,
    "examples": [
      { "input": { "count": 3 }, "output": { "stories": [{ "title": "Show HN: My new project", "url": "https://example.com", "score": 342, "author": "user123", "comments": 89 }] } }
    ]
  },
  {
    "id": "product_get_price",
    "name": "Get Product Price",
    "description": "Scrape the current price of a product from its URL",
    "category": "perceive",
    "organ": "web",
    "input_schema": {
      "type": "object",
      "properties": {
        "url": { "type": "string", "description": "Product page URL" },
        "price_selector": { "type": "string", "description": "CSS selector for the price element" }
      },
      "required": ["url"]
    },
    "output_schema": {
      "type": "object",
      "properties": {
        "price": { "type": "number" },
        "currency": { "type": "string" },
        "product_name": { "type": "string" },
        "in_stock": { "type": "boolean" }
      }
    },
    "api_type": "real",
    "tier": 1,
    "examples": [
      { "input": { "url": "https://amazon.com/dp/B0BN2KY..." }, "output": { "price": 499.99, "currency": "EUR", "product_name": "PlayStation 5", "in_stock": true } }
    ]
  },
  {
    "id": "crypto_get_price",
    "name": "Get Crypto Price",
    "description": "Fetch the current price of a cryptocurrency (BTC, ETH, SOL, etc.) from CoinGecko. No API key required.",
    "category": "perceive",
    "organ": "web",
    "input_schema": {
      "type": "object",
      "properties": {
        "coin_id": { "type": "string", "description": "CoinGecko coin ID, e.g. 'bitcoin', 'ethereum', 'solana'" },
        "currency": { "type": "string", "description": "Quote currency, e.g. 'usd', 'eur', 'gbp'. Default: usd" }
      },
      "required": ["coin_id"]
    },
    "output_schema": {
      "type": "object",
      "properties": {
        "coin_id": { "type": "string" },
        "price": { "type": "number" },
        "currency": { "type": "string" },
        "change_24h_pct": { "type": "number" },
        "market_cap": { "type": "number" }
      }
    },
    "api_type": "real",
    "tier": 1,
    "examples": [
      { "input": { "coin_id": "bitcoin", "currency": "usd" }, "output": { "coin_id": "bitcoin", "price": 62450.0, "currency": "usd", "change_24h_pct": -1.2, "market_cap": 1230000000000 } }
    ]
  },
  {
    "id": "gemini_product_image_search",
    "name": "Product Image Search (Gemini)",
    "description": "Identify products in an image using Gemini Vision and return structured product info with names, brands, categories, estimated prices, and search queries for finding them online",
    "category": "perceive",
    "organ": "gemini",
    "input_schema": {
      "type": "object",
      "properties": {
        "image_path": { "type": "string", "description": "Path or URL to product image" },
        "query": { "type": "string", "description": "Optional hint about what to look for (e.g. 'shoes', 'electronics')" }
      },
      "required": ["image_path"]
    },
    "output_schema": {
      "type": "object",
      "properties": {
        "products": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": { "type": "string", "description": "Product name" },
              "category": { "type": "string", "description": "Product category (e.g. Footwear, Electronics)" },
              "brand": { "type": "string", "description": "Brand if identifiable" },
              "estimated_price": { "type": "string", "description": "Estimated price range" },
              "description": { "type": "string", "description": "Brief product description" },
              "search_query": { "type": "string", "description": "Suggested search query to find this product online" }
            }
          }
        },
        "product_count": { "type": "integer", "description": "Number of products identified" }
      }
    },
    "api_type": "real",
    "tier": 2,
    "examples": [
      {
        "input": { "image_path": "/uploads/shoe_photo.jpg" },
        "output": {
          "products": [
            {
              "name": "Nike Air Max 90",
              "category": "Footwear",
              "brand": "Nike",
              "estimated_price": "$120-$160",
              "description": "Classic Nike Air Max 90 sneaker in white/blue colorway with visible Air unit",
              "search_query": "Nike Air Max 90 white blue sneaker"
            }
          ],
          "product_count": 1
        }
      }
    ]
  },
  {
    "id": "stock_get_price",
    "name": "Get Stock Price",
    "description": "Fetch the current price of a stock or ETF by ticker symbol (e.g. AAPL, TSLA, SPY) using Yahoo Finance. No API key required.",
    "category": "perceive",
    "organ": "web",
    "input_schema": {
      "type": "object",
      "properties": {
        "ticker": { "type": "string", "description": "Stock ticker symbol, e.g. 'AAPL', 'TSLA', 'SPY'" },
        "currency": { "type": "string", "description": "Expected currency for display, e.g. 'USD'. Default: USD" }
      },
      "required": ["ticker"]
    },
    "output_schema": {
      "type": "object",
      "properties": {
        "ticker": { "type": "string" },
        "price": { "type": "number" },
        "currency": { "type": "string" },
        "change_pct": { "type": "number" },
        "company_name": { "type": "string" },
        "market_state": { "type": "string" }
      }
    },
    "api_type": "real",
    "tier": 1,
    "examples": [
      { "input": { "ticker": "AAPL" }, "output": { "ticker": "AAPL", "price": 189.5, "currency": "USD", "change_pct": 0.8, "company_name": "Apple Inc.", "market_state": "REGULAR" } }
    ]
  }
]
