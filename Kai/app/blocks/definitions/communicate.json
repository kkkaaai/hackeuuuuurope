[
  {
    "id": "elevenlabs_speak",
    "name": "Text to Speech (ElevenLabs)",
    "description": "Convert text to spoken audio using ElevenLabs TTS with a default voice",
    "category": "communicate",
    "organ": "elevenlabs",
    "input_schema": {
      "type": "object",
      "properties": {
        "text": { "type": "string", "description": "Text to convert to speech" },
        "voice_id": { "type": "string", "description": "ElevenLabs voice ID (default: Rachel)" }
      },
      "required": ["text"]
    },
    "output_schema": {
      "type": "object",
      "properties": {
        "audio_url": { "type": "string", "description": "URL/path to the generated audio file" },
        "duration_seconds": { "type": "number" }
      }
    },
    "api_type": "real",
    "tier": 1,
    "examples": [
      { "input": { "text": "Good morning! The PS5 price dropped to €399." }, "output": { "audio_url": "/audio/output_abc123.mp3", "duration_seconds": 3.5 } }
    ]
  },
  {
    "id": "notify_in_app",
    "name": "In-App Notification",
    "description": "Show a notification in the AgentFlow UI with a title and message",
    "category": "communicate",
    "organ": "system",
    "input_schema": {
      "type": "object",
      "properties": {
        "title": { "type": "string" },
        "message": { "type": "string" },
        "level": { "type": "string", "enum": ["info", "success", "warning", "error"], "default": "info" }
      },
      "required": ["title", "message"]
    },
    "output_schema": {
      "type": "object",
      "properties": {
        "notification_id": { "type": "string" },
        "delivered": { "type": "boolean" }
      }
    },
    "api_type": "real",
    "tier": 1,
    "examples": [
      { "input": { "title": "Price Alert", "message": "PS5 dropped below €400!", "level": "success" }, "output": { "notification_id": "notif_001", "delivered": true } }
    ]
  },
  {
    "id": "ask_user_confirm",
    "name": "Ask User Confirmation",
    "description": "Pause the pipeline and ask the user to confirm or deny an action before proceeding",
    "category": "communicate",
    "organ": "system",
    "input_schema": {
      "type": "object",
      "properties": {
        "question": { "type": "string", "description": "The yes/no question to ask" },
        "details": { "type": "object", "description": "Additional details to show the user" }
      },
      "required": ["question"]
    },
    "output_schema": {
      "type": "object",
      "properties": {
        "confirmed": { "type": "boolean" },
        "user_message": { "type": "string", "description": "Optional message from the user" }
      }
    },
    "api_type": "real",
    "tier": 1,
    "examples": [
      { "input": { "question": "Buy PlayStation 5 for €399?", "details": { "product": "PS5", "price": 399 } }, "output": { "confirmed": true, "user_message": "" } }
    ]
  },
  {
    "id": "whatsapp_send_message",
    "name": "Send WhatsApp Message",
    "description": "Send a text message via WhatsApp to a phone number. Use for alerts, notifications, and updates that the user wants on their phone — e.g. price alerts, reminders, status updates.",
    "category": "communicate",
    "organ": "whatsapp",
    "input_schema": {
      "type": "object",
      "properties": {
        "phone_number": { "type": "string", "description": "Recipient phone number in E.164 format (e.g. +1234567890)", "pattern": "^\\+[1-9]\\d{6,14}$", "maxLength": 16 },
        "message": { "type": "string", "description": "Message text to send", "maxLength": 1600 }
      },
      "required": ["phone_number", "message"]
    },
    "output_schema": {
      "type": "object",
      "properties": {
        "status": { "type": "string", "description": "Message status: sent, failed" },
        "to": { "type": "string", "description": "Recipient number" },
        "timestamp": { "type": "string", "description": "ISO 8601 timestamp" }
      }
    },
    "api_type": "real",
    "tier": 1,
    "examples": [
      {
        "input": { "phone_number": "+31612345678", "message": "Bitcoin dropped below $60,000! Current price: $59,842" },
        "output": { "status": "sent", "to": "+31612345678", "timestamp": "2026-02-22T14:30:00Z" }
      }
    ]
  },
  {
    "id": "present_summary_card",
    "name": "Present Summary Card",
    "description": "Format data as a concise summary card with key metrics for display to the user",
    "category": "communicate",
    "organ": "system",
    "input_schema": {
      "type": "object",
      "properties": {
        "title": { "type": "string" },
        "data": { "type": "object", "description": "Key-value data to display" },
        "highlight": { "type": "string", "description": "The most important piece of information" }
      },
      "required": ["title", "data"]
    },
    "output_schema": {
      "type": "object",
      "properties": {
        "card": {
          "type": "object",
          "properties": {
            "title": { "type": "string" },
            "fields": { "type": "array", "items": { "type": "object" } },
            "highlight": { "type": "string" }
          }
        }
      }
    },
    "api_type": "real",
    "tier": 1,
    "examples": [
      { "input": { "title": "Daily Briefing", "data": { "top_story": "EU AI Act passed", "stories_count": 10 }, "highlight": "EU AI Act passed" }, "output": { "card": { "title": "Daily Briefing", "fields": [{ "label": "Top Story", "value": "EU AI Act passed" }, { "label": "Stories", "value": "10" }], "highlight": "EU AI Act passed" } } }
    ]
  }
]
